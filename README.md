# Filmorate

## Описание

Filmorate — это система для управления фильмами, позволяющая пользователям добавлять, обновлять, удалять фильмы, а также ставить лайки и получать информацию о популярных фильмах и фильмах по запросу. Система предоставляет API для взаимодействия с данными о фильмах, пользователях, отзывах и рекомендациях.

## Стек технологий

- Java: Основной язык программирования.
- Spring Boot: Фреймворк для создания веб-приложений.
- Spring JDBC: Для работы с базой данных и управления сущностями.
- Maven: Инструмент для управления зависимостями и сборки проекта.
- H2 Database: Встраиваемая база данных для тестирования.
- Lombok: Библиотека для упрощения написания кода.
- Spring Validation: Для валидации данных.

## Структура проекта

### API

- Режиссеры:
    - GET /directors: Получение всех режиссеров.
    - GET /directors/{id}: Получение информации о режиссере.
    - POST /directors: Создание нового режиссера.
    - PUT /directors: Обновление информации о режиссере.
    - DELETE /directors/{id}: Удаление режиссера.

- Фильмы:
    - POST /films: Добавление нового фильма.
    - GET /films/{id}: Получение информации о фильме.
    - PUT /films: Обновление информации о фильме.
    - GET /films: Получение всех фильмов.
    - DELETE /films: Удаление всех фильмов.
    - DELETE /films/{id}: Удаление фильма.
    - PUT /films/{id}/like/{userId}: Добавление лайка к фильму.
    - DELETE /films/{id}/like/{userId}: Удаление лайка у фильма.
    - GET /films/popular: Получение популярных фильмов.
    - GET /films/director/{directorId}: Получение фильмов режиссера.
    - GET /films/common: Получение общих фильмов для двух пользователей.
    - GET /films/search: Поиск фильмов по запросу.

### Хранение данных

- UserDbStorage: Управляет пользователями в базе данных.
- FilmDbStorage: Управляет фильмами в базе данных.
- GenreDbStorage: Управляет жанрами в базе данных.
- MpaDbStorage: Управляет рейтингами MPA в базе данных.
- ReviewsDbStorage: Управляет отзывами в базе данных.
- RecommendationDbStorage: Управляет рекомендациями фильмов.

![ER-diagram](/assets/images/diagram.png)
### Модели

- Film: Модель для фильмов.
- User: Модель для пользователей.
- Genre: Модель для жанров.
- Mpa: Модель для рейтингов MPA.
- Director: Модель для режиссеров.
- Reviews: Модель для отзывов.
- Event: Модель для событий.

### Контроллеры

- DirectorController: Обрабатывает запросы, связанные с режиссерами.
- FilmController: Обрабатывает запросы, связанные с фильмами.
- GenreController: Обрабатывает запросы, связанные с жанрами.
- MpaController: Обрабатывает запросы, связанные с рейтингами MPA.
- RecommendationController: Обрабатывает запросы на получение рекомендаций.
- ReviewsController: Обрабатывает запросы, связанные с отзывами.
- UserController: Обрабатывает запросы, связанные с пользователями.